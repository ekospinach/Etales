<div id="content" class="bs-header">
    <div class="container">
        <h1>{{Label.getContent('Step 2 of 4')}} {{Label.getContent('Production and pricing')}}</h1>
        <p>{{Label.getContent('Production and pricing Info')}}.</p>
    </div>
</div>

<div class="container bs-docs-container">
  <div class="row">
    <div class="col-md-12">
      <div class="bs-docs-section">
        <div class="pull-left" style="width:40%">
          <h4 class="pull-left">
            <span class="label label-info">{{Label.getContent(category)}}</span>
          </h4>
          <div style="clear:both"></div>
          <div class="btn-group pull-left">
              <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown">
                {{Label.getContent('Category')}} <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li class=""><a ng-click="showView(user,period,'Elecssories',language)">{{Label.getContent('Elecssories')}}</a></li>
                <li class=""><a ng-click="showView(user,period,'HealthBeauty',language)">{{Label.getContent('HealthBeauty')}}</a></li>       
              </ul>
          </div>
        </div>
        <div class="pull-right" style="width:40%">
          <progress percent="percentageExpend" class="progress active"></progress>
          <small>
            <em>{{Label.getContent('Available Budget')}}: <strong>{{surplusExpend.toFixed(2)}}</strong></em>
          </small>
          <progress percent="percentageProduction" class="progress progress-suceess active progress-striped"></progress>
          <small>
            <em>{{Label.getContent(category)}} {{Label.getContent('Producer Available Capacity')}}: <strong>{{surplusProduction.toFixed(2)}}</strong></em>
          </small>
        </div>
        <div style="clear:both"></div>
        
        <div collapse="isCollapsed" class="panel panel-info">
          <div class="panel-heading">
            {{variantHistory.parentBrandName||showNewHistory.brandName}} {{variantHistory.varName||showNewHistory.varName}}
            <button type="button pull-right" class="close" aria-hidden="true" ng-click="closeInfo()">&times;</button></div>

              <table class="table table-condensed table-bordered">
                <thead>
                  <tr>
                    <td colspan="2" class="col-md-6">{{Label.getContent('Current period')}} ({{currentPeriod}})</td>
                    <td colspan="2" class="col-md-6">{{Label.getContent('Previous period')}} ({{currentPeriod-1}})</td>               
                  </tr>                  
                </thead>
                <tbody>
                  <tr>
                    <th>{{Label.getContent('Unit Cost')}}</th>
                    <th>{{currentUnitCost}}</th>
                    <td>{{Label.getContent('Sales Volume')}}</td>
                    <td>{{variantHistory.supplierView[0].supplierChannelView[4].salesVolume[2].toFixed(2)||0}}</td>
                  </tr>
                  <tr>
                    <td>{{Label.getContent('Acquired Technology Level')}}</td>  
                    <td ng-show="isElecssories">{{companyHistory.acquiredTechnologyLevel[0]||0}}</td>
                    <td ng-show="isHealthBeauty">{{companyHistory.acquiredTechnologyLevel[1]||0}}</td>

                    <td>{{Label.getContent('Unit Production Cost')}}</td>
                    <td>{{variantHistory.supplierView[0].currentUnitAverageCost.toFixed(2)||0}}</td>
                  </tr>
                  <tr>
                    <td>{{Label.getContent('Acquired Design Level')}}</td>
                    <td ng-show="isElecssories">{{companyHistory.acquiredDesignLevel[0]||0}}</td>
                    <td ng-show="isHealthBeauty">/</td>                   

                    <td>{{Label.getContent('Production Volume')}}</td>
                    <td>{{variantHistory.supplierView[0].productionVolume.toFixed(2)||0}}</td>
                  </tr>
                  <tr>
                    <td ng-show="isElecssories">{{Label.getContent('Acquired Quality-of-Raw-Materials')}}</td>
                    <td ng-show="isHealthBeauty">{{Label.getContent('Acquired Smoothener Level')}}</td>
                    <td ng-show="isElecssories">{{companyHistory.acquiredTechnologyLevel[0]+2}}</td>
                    <td ng-show="isHealthBeauty">{{companyHistory.acquiredTechnologyLevel[1]+2}}</td> 

                    <td>{{Label.getContent('Initial Inventory')}}</td>
                    <td>{{variantHistory.supplierView[0].initialInventory[4].volume.toFixed(2)||0}}</td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>                                        
                    <td ng-show="isElecssories">{{Label.getContent('Design Level')}}</td>                    
                    <td ng-show="isHealthBeauty">{{Label.getContent('Active agent')}}</td>    

                    <td>{{variantHistory.supplierView[0].composition[0]||0}}</td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>

                    <td>{{Label.getContent('Technology Level')}}</td>
                    <td>{{variantHistory.supplierView[0].composition[1]||0}}</td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td ng-show="isElecssories">{{Label.getContent('Quality-of-Raw-Materials')}}</td>  
                    <td ng-show="isHealthBeauty">{{Label.getContent('Smoothener Level')}}</td>              
                    <td>{{variantHistory.supplierView[0].composition[2]||0}}</td>
                  </tr>                 
                  <tr>
                    <td></td>
                    <td></td>                    
                    <td>{{Label.getContent('Current Price BM')}}</td>
                    <td>{{variantHistory.supplierView[0].currentPriceBM.toFixed(2)||0}}</td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>                    
                    <td>{{Label.getContent('Current Price Emall')}}</td>
                    <td>{{variantHistory.supplierView[0].currentPriceEmall.toFixed(2)||0}}</td>                    
                  </tr>              
                </tbody>
              </table>                    
        </div>


          <table class="table table-hover">
            <thead>
              <tr>
                <th>{{Label.getContent('Brand')}}</th>
                <th ng-repeat='product in products'>
                  <p class="text-right">{{product.parentBrandName}}</p>
                </th>
              </tr>
              <tr>
                <th>{{Label.getContent('Variant')}}</th>
                <th ng-repeat='product in products'>
                  <div style="clear:both"></div>
                  <button type="button" class="btn btn-primary btn-xs pull-right" ng-click="getMoreInfo(product.parentBrandName,product.varName)">{{Label.getContent('More')}}</button>
                  <p class="pull-right" style="margin-right:5px">
                    {{product.varName}}
                  </p>
                  <div style="clear:both"></div>
                </th>
              </tr>              
            </thead>
            <tbody>
              
              <tr>
                <th>
                  <p class="text-primary" Popover-animation="true" popover="{{Label.getContent('Pack Format Info')}}" popover-title="{{Label.getContent('Pack Format')}}" popover-trigger="mouseenter" popover-placement="bottom">{{Label.getContent('Pack Format')}}<span style="color:red">*</span></p>
                </th>
                <th ng-repeat='product in products'>
                  <p class="text-right">{{Label.getContent(product.packFormat)}}
                  </p>
                </th>
              </tr>
              <tr>
                <th>
                  <p ng-show="HeaShow" class="text-primary" Popover-animation="true" popover="{{Label.getContent('Smoothener Level Info')}}" popover-title="{{Label.getContent('Smoothener Level')}}" popover-trigger="mouseenter" popover-placement="right">{{Label.getContent('Smoothener Level')}}<span style="color:red">*</span></p>
                  <p ng-show="EleShow" class="text-primary" Popover-animation="true" popover="{{Label.getContent('Quality-of-Raw-Materials Info')}}" popover-title="{{Label.getContent('Quality-of-Raw-Materials')}}" popover-trigger="mouseenter" popover-placement="right">{{Label.getContent('Quality-of-Raw-Materials')}}<span style="color:red">*</span></p>
                </th>
                <th ng-repeat='product in products'>
                  <p class="text-right">{{product.composition[2]}}
                  </p>
                </th>
              </tr>
              <tr>
                <th>
                  <p class="text-primary" Popover-animation="true" popover="{{Label.getContent('Technology Level Info')}}" popover-title="{{Label.getContent('Technology Level')}}" popover-trigger="mouseenter" popover-placement="bottom">{{Label.getContent('Technology Level')}}<span style="color:red">*</span></p>
                </th>
                <th ng-repeat='product in products'>
                  <p class="text-right">{{product.composition[1]}}
                  </p>
                </th>
              </tr>
              <tr>
                <th>
                  <p ng-show="HeaShow" class="text-primary" Popover-animation="true" popover="{{Label.getContent('Active agent Info')}}" popover-title="{{Label.getContent('Active agent')}}" popover-trigger="mouseenter" popover-placement="right">{{Label.getContent('Active agent')}}<span style="color:red">*</span></p>
                  <p ng-show="EleShow" class="text-primary" Popover-animation="true" popover="{{Label.getContent('Design Level Info')}}" popover-title="{{Label.getContent('Design Level')}}" popover-trigger="mouseenter" popover-placement="right">{{Label.getContent('Design Level')}}<span style="color:red">*</span></p>
              </th>
                <th ng-repeat='product in products'>
                  <p class="text-right">{{product.composition[0]}}
                  </p>
                </th>
              </tr>
              <tr>
                <th>
                  <p class="text-primary" Popover-animation="true" popover="{{Label.getContent('Production Volume Info')}}" popover-title="{{Label.getContent('Production Volume')}}" popover-trigger="mouseenter" popover-placement="bottom">{{Label.getContent('Production Volume')}}<span style="color:red">*</span></p>
                </th>
                <th ng-repeat='product in products'>
                  <a href="#" editable-text="product.production" onbeforesave="checkProduction(category,product.parentBrandName,product.varName,'production','0',$index,$data)" onaftersave="updateProducerDecision(category,product.parentBrandName,product.varName,'production','0',$index)">
                    <p class="text-right">{{ product.production || 0 }}
                    </p>
                  </a>
                </th>
              </tr>
              <tr>
                <th>
                  <p class="text-primary" Popover-animation="true" popover="{{Label.getContent('Next Price BM Info')}}" popover-title="{{Label.getContent('Next Price BM')}}" popover-trigger="mouseenter" popover-placement="bottom">{{Label.getContent('Next Price BM')}}<span style="color:red">*</span></p>
                </th>
                <th ng-repeat='product in products'>
                  <a href="#" editable-text="product.nextPriceBM" onbeforesave="checkNextPriceBM(category,product.parentBrandName,product.varName,'nextPriceBM','0',$index,$data)" onaftersave="updateProducerDecision(category,product.parentBrandName,product.varName,'nextPriceBM','0',$index)">
                    <p class="text-right">{{ product.nextPriceBM || 0 }}
                    </p>
                  </a>
                </th>
              </tr>
              <tr>
                <th>
                  <p class="text-primary" Popover-animation="true" popover="{{Label.getContent('Next Price Emall Info')}}" popover-title="{{Label.getContent('Next Price Emall')}}" popover-trigger="mouseenter" popover-placement="bottom">{{Label.getContent('Next Price Emall')}}<span style="color:red">*</span></p>
                </th>
                <th ng-repeat='product in products'>
                  <a href="#" editable-text="product.nextPriceEmall" onbeforesave="checknextPriceEmall(category,product.parentBrandName,product.varName,'nextPriceEmall','0',$index,$data)" onaftersave="updateProducerDecision(category,product.parentBrandName,product.varName,'nextPriceEmall','0',$index)">
                    <p class="text-right">{{ product.nextPriceEmall || 0 }}
                    </p>
                  </a>
                </th>
              </tr>   
            </tbody>
          </table>
          <div>
            <a href="/#/producerDecisionStep1" class="btn btn-default">{{Label.getContent('Back')}}</a>
            <a href="/#/producerDecisionStep3" class="btn btn-primary">{{Label.getContent('Next')}}</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>